<!DOCTYPE html>
<html lang="en">
<head>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ff758c">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RMT‚ù§Ô∏è</title>

<style>
body{
  margin:0;
  height:100vh;
  background: linear-gradient(135deg,#ff7eb3,#ff758c);
  font-family:'Segoe UI',sans-serif;
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  position:relative;
  opacity:0;
  animation: fadeInPage 0.8s ease forwards;
}

@keyframes fadeInPage{
  to{opacity:1;}
}

/* Floating hearts background */
.floating-heart{
  position:absolute;
  font-size:18px;
  opacity:0.2;
  animation: floatUp 8s linear infinite;
}

@keyframes floatUp{
  0%{ transform: translateY(100vh) scale(0.5);}
  100%{ transform: translateY(-10vh) scale(1.2);}
}

/* Container box */
.box{
  width:90%;
  max-width:420px;
  background:rgba(255,255,255,0.15);
  backdrop-filter:blur(10px);
  border-radius:22px;
  padding:25px;
  text-align:center;
  box-shadow:0 20px 40px rgba(0,0,0,0.25);
  z-index:2;
}

/* Buttons */
button{
  padding:12px 24px;
  border:none;
  border-radius:25px;
  font-size:15px;
  margin:10px;
  cursor:pointer;
  transition:0.3s;
}

button:hover{
  box-shadow:0 0 20px #ff2f68;
}

button:active{
  transform:scale(0.95);
}

.yes{
  background:white;
  color:#ff2f68;
  font-weight:600;
}

.no{
  background:#333;
  color:white;
  opacity:0.6;
}

input{
  width:100%;
  padding:10px;
  border:none;
  border-radius:12px;
  font-size:14px;
  margin-top:15px;
  text-align:center;
}

/* Video */
video{
  width:100%;
  border-radius:18px;
  margin-top:15px;
  display:none;
}

#passwordBox,
#videoBox,
#teaserBox{
  display:none;
}

/* Next Button */
#nextBtn{
  position:fixed;
  right:20px;
  bottom:50%;
  transform:translateY(50%);
  z-index:999;
  display:none;
  background:white;
  color:#ff2f68;
  font-weight:600;
  padding:12px 20px;
  border-radius:25px;
  cursor:pointer;
  font-size:16px;
  opacity:0;
  transition:opacity 0.5s ease;
}

#nextBtn.show{
  display:inline-block;
  opacity:1;
}
</style>
</head>

<body>

<!-- Floating Hearts -->
<script>
for(let i=0;i<15;i++){
  const heart=document.createElement("div");
  heart.className="floating-heart";
  heart.textContent="‚ù§Ô∏è";
  heart.style.left=Math.random()*100+"%";
  heart.style.animationDuration=(6+Math.random()*6)+"s";
  document.body.appendChild(heart);
}
</script>

<div class="box">

<div id="questionBox">
  <h2>Are you MILKY‚Ä¶.? ü§ç</h2>
  <button class="yes" id="yesBtn">YES</button>
  <button class="no">NO</button>
</div>

<div id="passwordBox">
  <h2>Enter Password üîê</h2>
  <input type="password" id="pwd" placeholder="Password">
  <button class="yes" onclick="checkPassword()">Unlock ‚ù§Ô∏è</button>
</div>

<div id="teaserBox">
  <h2>Here comes a little surprise üé¨‚ú®</h2>
</div>

<div id="videoBox">
  <video id="myVideo" playsinline controls>
    <source src="assets/video1.mp4" type="video/mp4">
  </video>
</div>

</div>

<button id="nextBtn" onclick="goHeart()">Way To My Heart ‚ù§Ô∏è</button>

<script>

// Service worker
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("sw.js").catch(()=>{});
}

// Login protection
if(localStorage.getItem("loggedIn")!=="true"){
  window.location.href="index.html";
}

document.getElementById("yesBtn").onclick=function(){
  document.getElementById("questionBox").style.display="none";
  document.getElementById("passwordBox").style.display="block";
};

function checkPassword(){
  if(document.getElementById("pwd").value==="tlovem"){
    document.getElementById("passwordBox").style.display="none";
    document.getElementById("teaserBox").style.display="block";

    setTimeout(()=>{
      document.getElementById("teaserBox").style.display="none";
      const video=document.getElementById("myVideo");
      document.getElementById("videoBox").style.display="block";
      video.style.display="block";
      video.play().catch(()=>{});
      document.getElementById("nextBtn").classList.add("show");
    },2000);

  } else {
    alert("Wrong password üíî");
  }
}

function goHeart(){
  document.body.style.opacity="0";
  setTimeout(()=>{
    window.location.href="heart.html";
  },500);
}
  // Register Service Worker (FIXED PATH)
if ("serviceWorker" in navigator) {
  window.addEventListener("load", function() {
    navigator.serviceWorker.register("sw.js")
      .then(reg => console.log("SW registered:", reg.scope))
      .catch(err => console.log("SW failed:", err));
  });
}

</script>

</body>
</html>




